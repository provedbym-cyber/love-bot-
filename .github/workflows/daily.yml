name: Daily Love Message

on:
  schedule:
    - cron: '5 5 * * *'   # 07:05 Ð¿Ð¾ Ð‘ÐµÑ€Ð»Ð¸Ð½Ñƒ Ð»ÐµÑ‚Ð¾Ð¼ (GitHub Ð² UTC)
  workflow_dispatch:

jobs:
  send:
    runs-on: ubuntu-latest
    steps:
      - name: Pick message
        id: msg
        run: |
          msgs=(
            "Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾, Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ð¼Ð¾Ñ ðŸŒ¸"
            "Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ð°, ÐºÐ°Ðº Ð²ÑÐµÐ³Ð´Ð° âœ¨"
            "ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÑŽ: Ñ‚Ñ‹ ÑÐ¸Ð»ÑŒÐ½Ð°Ñ, ÑÐ¼ÐµÐ»Ð°Ñ Ð¸ Ð½Ð°ÑÑ‚Ð¾ÑÑ‰Ð°Ñ ðŸ’›"
            "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ»Ñ‹Ð±Ð½ÑƒÑ‚ÑŒÑÑ â˜€ï¸"
            "Ð¯ Ð³Ð¾Ñ€Ð¶ÑƒÑÑŒ Ñ‚Ð¾Ð±Ð¾Ð¹ â€” Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ‚Ñ‹ ÑÑ‚Ð¾Ð³Ð¾ Ð½Ðµ Ð²Ð¸Ð´Ð¸ÑˆÑŒ ðŸ’Œ"
            "Ð¢Ñ‹ Ð¼Ð¾Ñ‘ Ð»ÑŽÐ±Ð¸Ð¼Ð¾Ðµ Ñ‡ÑƒÐ´Ð¾ ÑÑ‚Ð¾Ð³Ð¾ Ð¼Ð¸Ñ€Ð° ðŸŒ·"
            "Ð£Ð»Ñ‹Ð±Ð½Ð¸ÑÑŒ â€” ÑÑ‚Ð¾ Ð»ÑƒÑ‡ÑˆÐµÐµ Ð½Ð°Ñ‡Ð°Ð»Ð¾ Ð´Ð½Ñ ðŸ’–"
            "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ ÑÐ´ÐµÐ»Ð°ÐµÑˆÑŒ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð²Ð°Ð¶Ð½Ð¾Ðµ, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ ÐµÑ‰Ñ‘ Ð½Ðµ Ð·Ð½Ð°ÐµÑˆÑŒ Ð¾Ð± ÑÑ‚Ð¾Ð¼ ðŸŒ¼"
            "Ð¯ Ñ€ÑÐ´Ð¾Ð¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¼Ñ‹ Ð¼Ð¾Ð»Ñ‡Ð¸Ð¼ ðŸ¤"
            "ÐŸÑƒÑÑ‚ÑŒ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð²ÑÑ‘ ÑÐ»Ð¾Ð¶Ð¸Ñ‚ÑÑ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ Ð»ÐµÐ³ÐºÐ¾ ðŸŒ¿"
            "Ð¯ Ð²ÐµÑ€ÑŽ Ð² Ñ‚ÐµÐ±Ñ Ð±ÐµÐ·ÑƒÑÐ»Ð¾Ð²Ð½Ð¾ ðŸŒ "
            "ÐœÐ¸Ñ€ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð¼ÑÐ³Ñ‡Ðµ, ÐºÐ¾Ð³Ð´Ð° Ñ‚Ñ‹ ÑƒÐ»Ñ‹Ð±Ð°ÐµÑˆÑŒÑÑ ðŸŒ¹"
          )
          msg=${msgs[$RANDOM % ${#msgs[@]}]}
          echo "text=$msg" >> $GITHUB_OUTPUT

      - name: Send to Telegram
        env:
          TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
          CHAT_ID: ${{ secrets.CHAT_ID }}
          TEXT: ${{ steps.msg.outputs.text }}
        run: |
          curl -G "https://api.telegram.org/bot$7933158417:AAEIS06I_HEayv2qeWbsVKKagBUL5ZmRUnc/sendMessage" \
               --data-urlencode "chat_id=$CHAT_ID" \
               --data-urlencode "text=$TEXT"
